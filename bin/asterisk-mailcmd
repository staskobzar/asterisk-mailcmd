#!/usr/bin/env ruby

require 'optparse'
require 'methadone'
require 'asterisk/mailcmd'

require 'pp'

class App
  include Methadone::Main
  include Methadone::CLILogging

  main do # main proc
    file ||= options[:template]
    Asterisk::Mailcmd.run(file)
  end

  # supplemental methods here

  # Description
  description "Command to use with Asterisk mailcmp option. See: voicemail.conf"
  
  # Email template file
  on("-t FILE","--template","Email template file.") do |file|
    options[:template] = file
  end

  version Asterisk::Mailcmd::VERSION

  use_log_level_option

  go!
end
